This is a plug-in for the Video Disk Recorder (VDR).

Written by:                  Thomas Creutz <thomas.creutz@gmx.de>
                             Tobias Grimm <tg@e-tobi.net>

Project's homepage:          http://www.e-tobi.net/blog/pages/vdr-menuorg

This program is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the
Free Software Foundation; either version 2 of the License, or (at your option)
any later version.

See the file COPYING for the full license information


Description:
------------

This plug-in allows to reorganise VDR's main OSD menu. The new menu structure is
read from an XML config file. It's basic format is based on the format used in
the setup plug-in.


Requirements:
-------------

The plug-in has been tested with vdr 1.4.7 and 1.5.7. It requires the libxml++2.6
library.


Configuration:
--------------

The following parameters are available:

 -c FILE   --config=FILE   loads the specified xml file
                           (default: ConfigDir/plugins/menuorg.xml)


Upgrading from vdr-submenu plugin
---------------------------------

There is a convert script in this package. With it you can convert your old 
MainMenu.conf from the submenu plugin to the XML file which is needed by
menuorg.

Example usage:

    submenu2menuorg /var/lib/vdr/plugins/MainMenu.conf /var/lib/vdr/plugins/menuorg.xml

Attention: Your destination file will be overwritten without any warning!

When your vdr runs not as root, than you should verify that the target file is
readable for the which ever user runs vdr.


Menu file format
----------------

The menu configuration file, is a simple XML file and has to conform to it's
syntax rules. The root node always is <menus>.

There are only three kinds of menu items described by the following XML tags:

   <system> : System menu items, like the channels list or the timers
   <plugin> : Plug-in menu items
   <menu>   : A sub menu
   
In the menu hierarchy <system> and <plug-in> are leaf nodes, whereas <menu> is
an internal node. <menu> may contain any number of <system>, <plugin> or <menu>
nodes.

Each node is described by a name attribute. For <system> nodes, the following
names are possible:

  - Schedule
  - Channels
  - Timers
  - Recordings
  - Commands
  - Setup

The name of a <plugin> node describes the plug-ins name, not it's main menu text.

With the name attribute in <menu> nodes, the main menu title of this sub menu
will be set.

<system> items not configured in the menu configuration will not be visible in
VDR's OSD. Plug-ins that are not configured in the xml file, will be shown
at the end of the root main menu.

e.g.:

    <?xml version="1.0" encoding="UTF-8"?>
    <menus>
        <system name="Schedule" />
        <system name="Channels" />
        <system name="Recordings" />
        <menu name="Video/Audio">
            <plug-in name="mp3" />
            <plug-in name="mplayer" />
            <menu name="CD/DVD">
                <plug-in name="burn" />
                <plug-in name="dvdselect" />
                <plug-in name="dvd" />
            </menu>
        </menu>
        <menu name="Timer">
            <system name="Timers" />
            <plug-in name="autotimeredit" />
            <plug-in name="sleeptimer" />
        </menu>
        <menu name="Games">
            <plug-in name="games" />
            <plug-in name="solitaire" />
            <plug-in name="freecell" />
        </menu>
        <menu name="System">
            <system name="Setup" />
            <system name="Commands" />
            <plug-in name="sysinfo" />
            <plug-in name="femon" />
        </menu>
    </menus>
